<header class="w_search">
  <%= search_form_for @q, url: rooms_path do |f| %>
    <%= f.label :address, "エリア" %>
    <%= f.search_field :address_cont, placeholder: "エリアを入力", class: "w_search_field" %>
    <%= f.label :room_detail, "キーワード" %>
    <%= f.search_field :room_detail_cont, placeholder: "キーワードを入力", class: "w_search_field" %>
    <%= f.submit "検索", class: "w_search_submit" %>
  <% end %>
</header>

<div><%= link_to "戻る", :back, class: "link_text" %></div>
<div class="room_container">  
  <div>
    <% if @room.room_image? %>
      <img src='<%= @room.room_image %>' class="show_room_image">
    <% else %>
      <img src="/assets/default-room.png" class="show_room_image">
    <% end %>
  </div>
  <div class="room_name"><%= @room.room_name %></div>
  <div><%= @room.address %></div>
  <div><%= @room.room_detail %></div>
  <div>¥<%= @room.price %>〜</div>

  <%= form_with model: @reservation, url: confirm_reservations_path(@reservation) do |f| %>
    <%= f.hidden_field :room_id, value:@room.id %>
    
    <div class="reservation_form_group">
      
      <table class="reservation_form">
        <tr>
          <th align="right"><%= f.label :start_date, "チェックイン" %><th>
          <td><%= f.date_field :start_date, required: true %></td>
        </tr>
        <tr>
          <th align="right"><%= f.label :end_date, "チェックアウト" %><th>
          <td><%= f.date_field :end_date, required: true %></td>
        </tr>
        <tr>
          <th align="right"><%= f.label :people, "人数" %><th>
          <td><%= f.text_field :people, required: true %></td>
        </tr>
      </table>

      <div>
        <% if user_signed_in? %>
          <%= f.submit "確認画面へ", class: "reservation_button" %>
        <% else %>
          <%= link_to"ログイン", "/users/sign_in", class: "sign_in_button" %>
        <% end %>
      </div>
    </div>
  <% end %>
</div>
